<h1><code ng:non-bindable=""></code>
<span class="hint"></span>
</h1>
<div><h2 id="gettingstarted">Getting started</h3>

<p>To use the SDK, you need to</p>

<ol>
<li>init the SDK; e.g.,</li>
</ol>

<pre class="prettyprint linenums">
FamilySearch.init({
  app_key: 'YOUR_ACCESS_KEY_GOES_HERE',
  environment: 'sandbox',
  // auth_callback is the URI you registered with FamilySearch;
  // the page does not need to exist but it must have the same host and port
  // as the server running your script
  auth_callback: 'REDIRECT_GOES_HERE',
  http_function: jQuery.ajax,
  deferred_function: jQuery.Deferred
});
</pre>

<ol>
<li>get an access token; e.g.,</li>
</ol>

<pre class="prettyprint linenums">
FamilySearch.getAccessToken().then(function(response) {
   // now you have an access token
});
</pre>

<ol>
<li>make API calls; e.g.,</li>
</ol>

<pre class="prettyprint linenums">
FamilySearch.getCurrentUser().then(function(response) {
   // now you have the response
});
</pre>

<h2 id="promises">Promises</h3>

<p>Most functions return promises.
The promises are generated by the <code>deferred_function</code> you passed into the <code>init</code> call.
If the promise is fulfilled, it will return a single parameter containing the response data.
If the response is rejected, it will return whatever the <code>http_function</code> passed into the <code>init</code> call returns.</p>

<p>The following functions are also available</p>

<ul>
<li><code>getResponseHeader(header)</code></li>
<li><code>getAllResponseHeaders()</code></li>
<li><code>getStatusCode()</code></li>
</ul>

<h3 id="examples">Examples</h4>

<h4 id="jquery">jQuery</h5>

<p>Requires jQuery 1.8 or later.</p>

<p>If you pass <code>jQuery.ajax</code> and <code>jQuery.Deferred</code> into the <code>FamilySearch.init</code> call, the returned promises
will have the the methods described at http://api.jquery.com/Types/#Promise ; for example</p>

<ul>
<li><code>then(function(data) {}, function(jqXHR, textStatus, errorThrown) {})</code></li>
<li><code>done(function(data) {})</code></li>
<li><code>fail(function(jqXHR, textStatus, errorThrown) {})</code></li>
</ul>

<h4 id="angularjsnotyetimplemented">AngularJS -- not yet implemented</h5>

<p>If you pass <code>$http</code> and <code>$q.defer</code> into the <code>FamilySearch.init</code> call, the returned promises
will have the methods described at http://docs.angularjs.org/api/ng.$q#description_the-promise-api ; for example</p>

<ul>
<li><code>then(function(data) {}, function({data: data, status: status, headers: headers, config: config}) {})</code></li>
<li><code>catch(function(data, status, headers, config) {})</code></li>
</ul>

<h4 id="nodejsnotyetimplemented">Node.js -- not yet implemented</h5>

<h2 id="plumbing">Plumbing</h3>

<p>The functions in the "plumbing" module are low-level functions that you would not normally call.
The higher-level functions that you normally call are built on top of the plumbing functions.
The plumbing functions are exposed in case you want to do something not anticipated by the higher-level functions.
The plumbing functions here serve the same purpose as the
<a href="https://www.kernel.org/pub/software/scm/git/docs/#_low_level_commands_plumbing">plumbing functions in git</a>.</p>

<p>Note that promises returned by plumbing functions return whatever the <code>http_function</code> passed into the
<code>init</code> call returns.</p></div>
